## C++不同模块中引用相同全局变量、函数、类

下面讨论相同名称的全局变量，函数，类等分别在不同的源文件中并定义时，会发生什么情况？

- #### 全局变量

  ```
  ///区分以下方式：
  extern int XXX ;///只是声明，非定义
  extern int XXX = 0 ;///定义变量
  int XXX ;///定义变量，未初始化，默认为extern
  int XXX = 0 ;///定义变量，初始化为0，默认为extern
  ```

  1、在多个源文件中定义了多个extern的同名全局变量，编译器链接错误

  2、不同的文件中定义的相同名称的static全局变量，本质上都是不同的变量。

- #### 全局函数

  1、全局函数定义：分为：static \ extern 两种，static只能被本文件使用，extern可以供外部文件调用（默认为extern方式）

  2、多个源文件中定义了相类型的同名static函数，其本质是不同的函数。相反是extern的话编译器链接错误。

- #### 自定义类

  1、对类使用static，extern声明貌似无效【还需验证】。

  2、不同源文件内定义了同名的class（内部实现可能不一样），按照编译顺序，以第一个参与编译的为准。其他定义都被认为是声明。

  3、如果后面的申明中，增加了原类没有的方法，也可以被调用。但是生成代码的内存模型以最近的声明为准。

  **Noet:**在VS2010中、XCode已验证

- #### 函数模板

- #### 类模板